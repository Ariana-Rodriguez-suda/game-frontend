<div class="level-container">
  <div class="message-box">
    <p>{{ message }}</p>
  </div>

  <div class="controls">
    <button (click)="activarModo('resta')">Modo Resta</button>
    <button (click)="activarModo('multiplicacion')">Modo Multiplicación</button>
    <button (click)="activarModo('division')">Modo División</button>
    <button (click)="activarModo('suma-mcm')">Modo Suma (MCM)</button>
  </div>

  <div class="game-area">
    <div class="character" #character></div>
    <div class="enemy" *ngFor="let e of enemies" [style.left.px]="e.left"></div>
    <div class="platform"></div>

    <div 
      class="block" 
      *ngFor="let block of blocks" 
      [style.left.px]="block.left"
      [attr.data-id]="block.id">
      <div class="block-fraction">
        <div 
          class="block-part" 
          *ngFor="let part of [].constructor(block.denominator); let i = index"
          [class.filled]="i < block.numerator">
        </div>
      </div>
      <span class="fraction-label">{{ block.numerator }}/{{ block.denominator }}</span>
    </div>
  </div>

  <div class="interaction" *ngIf="mode !== 'normal'">
    <input type="number" placeholder="ID Bloque 1" #id1>
    <input type="number" placeholder="ID Bloque 2" #id2>
    <button (click)="interactuarBloques(+id1.value, +id2.value)">Aplicar operación</button>
  </div>

  <div class="mcm" *ngIf="mode === 'suma-mcm'">
    <p>También puedes usar el Rayo MCM:</p>
    <button (click)="usarRayoMCM(+id1, +id2)">Aplicar Rayo MCM</button>
  </div>
</div>
